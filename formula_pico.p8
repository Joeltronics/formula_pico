pico-8 cartridge // http://www.pico-8.com
version 41
__lua__
-- Formula Pico
-- by Joel Geddert
-- License: CC BY-NC-SA 4.0

#include build/generated_data.p8.lua
#include build/init_track.p8.lua
#include src_p8/globals.p8.lua
#include src_p8/bg_objects.p8.lua
#include build/utils.p8.lua
#include build/drawing.p8.lua
#include build/title_screen.p8.lua
#include build/game_logic.p8.lua
#include build/minimap.p8.lua
#include build/sound.p8.lua
#include build/debug.p8.lua

function _init()
	init_title_screen()
end

function _update60()
	if road then
		game_tick()
		update_sound()
	else
		update_title_screen()
	end
end

function _draw()
	if road then
		draw_bg()
		draw_road()
		draw_minimap()
		draw_hud()
		if debug then
			draw_debug_overlay()
		elseif print_cpu then
			draw_cpu_only_overlay()
		end
	else
		draw_title_screen()
	end
end

__gfx__
bbbbbbbbbb8888bbbbbbbbbbbbbbbbbbbbbb8888bbbbbbbbbbbbb000bbbbb888bbbbbbbbbbbbbbb000bbbb888bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
bbb000bbb88ee88bbb000bbbbbbb000bbbb88e888bb000bbbbbb06550bbb88e88bb000bbbbbbbb06550bb88e88bb000bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
bb065588888ee888885560bbbbb065588888ee888885560bbbbb000088888e888885560bbbbbbee0008888e888805560bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
bb000e88888ee88888e000bbbbb00e088888e88888e0000bbbbb0e0088888e888880006bbbbbbeccc0888e8888800006bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
bb000ecccccccccccce000bbbbb00eccccccccccccee000bbbbb0ecccccce8888e80006bbbbbbe111cccc8888e800006bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
bb000e111111111111e000bbbbb00e111111111111ee000bbbbbbe111111cccccee0000bbbbbbe1111111ccccee00000bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
bbb00e188111111881e00bbbbbbb0e188111111881e000bbbbbbbe18111111111ee000bbbb000b18811111111eee000bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
bbbbbb188881188881bbbbbbbbbbbb188881188881bbbbbbbb000018881188881ebbbbbbb6555018881188881eebbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
b0000088888558888800000bb0000088888558888800000b0655508888558888800000bb600008888558888800000bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
00655588882662888855560006555588882662888055560060000888826628880555600b0000088826628880555600bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
06000088826006288800006060000088826006288000000000000888260062880000005000000222600628800000050bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
00000088226006228800000000000088226006228000000600000222260062280000056500000dd2600622800000565bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
00000022222662222200000000000022222662222000000600000ddddd662222000005650000000dd66222200000565bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
000000dddddddddddd000000000000ddddddddddd00000000000000bbbbddddd00000050b00000bbbbbdddd00000050bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
0000000bbbbbbbbbb00000000000000bbbbbbbbbb0000000b00000bbbbbbbbbb0000000bbbbbbbbbbbbbbbb0000000bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
b00000bbbbbbbbbbbb00000bb00000bbbbbbbbbbbb00000bbbbbbbbbbbbbbbbbb00000bbbbbbbbbbbbbbbbbb00000bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb000066bbbbb
bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb0000000006bbb
bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb000aaaaaa006bb
bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb000a900009a006b
bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb00a00000000a00b
bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb00a9000000009a06
bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb00a0000550000a06
bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb00a0005665000a00
00222200bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb0055bbbbb0055bb00a0005665000a00
02888820bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb00aa05bbb0aaaa5b10a0000550000a00
28888882bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb0a00a0bb0a9009a510a9000000009a00
28888882bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb0a00a0bb0a0000a0b00a00000000a00b
28888882bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb10aa00bb0a0000a0b100a900009a000b
28888882bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb1100bbb1a9009a0bb100aaaaaa000bb
02888820bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb1aaaa0bbbb1000000000bbb
00222200bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb1100bbbbbbb110000bbbbb
0000000000000000000000000000000000000000000000000000000000000000bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb00007777000077770000777700007777
0000000000000000000000000000000000000000000000000000000000000000bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb00007777000077770000777700007777
0000000000000000000000000000000000000000000000000000000000000000bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb00007777000077770000777700007777
0000000000000000000000000000000000000000000000000000000000000000bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb00007777000077770000777700007777
0000000000000000000000000000000000000000000000000000000000000000bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb77770000777700007777000077770000
0000000000000000000000000000000000000000000000000000000000000000bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb77770000777700007777000077770000
0000000000000000000000000000000000000000000000000000000000000000bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb77770000777700007777000077770000
0000000000000000000000000000000000000000000000000000000000000000bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb66660000666600006666000066660000
0000000000000000000000000000000000000000000000000000000000000000bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb82bbbb28bbbbbbbbbbbbbbbbbbbbbbbb
0000000000000000000000000000000000000000000000000000000000000000bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb882bb288bbbbbbbbbbbbbbbbbbbbbbbb
0000000000000000000000000000000000000000000000000000000000000000bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb82822828bbbbbbbbbbbbbbbbbbbbbbbb
0000000000000000000000000000000000000000000000000000000000000000bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb8b2882b8bbbbbbbbbbbbbbbbbbbbbbbb
0000000000000000000000000000000000000000000000000000000000000000bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb8b2882b8bbbbbbbbbbbbbbbbbbbbbbbb
0000000000000000000000000000000000000000000000000000000000000000bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb82822828bbbbbbbbbbbbbbbbbbbbbbbb
0000000000000000000000000000000000000000000000000000000000000000bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb882bb288bbbbbbbbbbbbbbbbbbbbbbbb
0000000000000000000000000000000000000000000000000000000000000000bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb82bbbb28bbbbbbbbbbbbbbbbbbbbbbbb
0000000000000000000000000000000000000000000000000000000000000000bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb82bbbb28bbbbbbbbbbbbbbbbbbbbbbbb
0000000000000000000000000000000000000000000000000000000000000000bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb882bb288bbbbbbbbbbbbbbbbbbbbbbbb
0000000000000000000000000000000000000000000000000000000000000000bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb82822828bbbbbbbbbbbbbbbbbbbbbbbb
0000000000000000000000000000000000000000000000000000000000000000bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb8b2882b8bbbbbbbbbbbbbbbbbbbbbbbb
0000000000000000000000000000000000000000000000000000000000000000bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb8b2882b8bbbbbbbbbbbbbbbbbbbbbbbb
0000000000000000000000000000000000000000000000000000000000000000bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb82822828bbbbbbbbbbbbbbbbbbbbbbbb
0000000000000000000000000000000000000000000000000000000000000000bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb882bb288bbbbbbbbbbbbbbbbbbbbbbbb
0000000000000000000000000000000000000000000000000000000000000000bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb82bbbb28bbbbbbbbbbbbbbbbbbbbbbbb
0030b030b030003000dddd00ddd6605500000000000000000000000000000000bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb82bbbb28bbbbbbbbbbbbbbbbbbbbbbbb
033bb33bb33b0330666dfff0dd66665500000000000000000000000000000000bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb882bb288bbbbbbbbbbbbbbbbbbbbbbbb
333b3333b33b33336c6dff66dd6cc65500000000000000000000000000000000bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb82822828bbbbbbbbbbbbbbbbbbbbbbbb
333333b3333333b3666dff66dd66665500000000000000000000000000000000bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb8b2882b8bbbbbbbbbbbbbbbbbbbbbbbb
33bb33bb33bb3bbb6c6dff66dd6cc65500000000000000000000000000000000bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb8b2882b8bbbbbbbbbbbbbbbbbbbbbbbb
3bb553bb3bb533b5666dff66dd66665500000000000000000000000000000000bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb82822828bbbbbbbbbbbbbbbbbbbbbbbb
b5553555b55555536c6dff66dd6cc65500000000000000000000000000000000bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb882bb288bbbbbbbbbbbbbbbbbbbbbbbb
0343034330430340666dff66dd66660000000000000000000000000000000000bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb82bbbb28bbbbbbbbbbbbbbbbbbbbbbbb
__sfx__
490800040045200452004520045200402004020040200402004020040200402004020040200402004020040200402004020040200402004020040200400004000040000400004000040000400004000040000400
4b06000b0067034671006712467100671306710c671186711c6713067134671000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
490802030025001251012520000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
910802031c1501d1511d1520000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
011800001805500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
011800002404024045000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
